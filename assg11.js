om >
  db.books.aggregate([
    { $match: { by: "John" } },
    {
      $group: {
        _id: null,
        totalBooks: { $sum: 1 },
      },
    },
  ]);

output - [{ _id: null, totalBooks: 4 }];
//-------------------------------------------------------------------------------------------------------------------------------

db.books.aggregate([
  {
    $match: { by: "John" },
  },
  {
    $group: {
      _id: "$by",
      minLikes: { $min: "$likes" },
      maxLikes: { $max: "$likes" },
    },
  },
]);

db.books.aggregate([
  {
    $group: {
      _id: "$by",
      minLikes: { $min: "$likes" },
      maxLikes: { $max: "$likes" },
    },
  },
]);
//---------------------------------------------------------------------------------------------------------------------------
db.books.aggregate([
  {
    $match: { by: "John" },
  },
  {
    $group: {
      _id: "$by",
      first: { $first: "$title" },
      last: { $last: "$title" },
    },
  },
]);

// -----------------------------------------------------------------------------------------------------------------------------

db.books.aggregate([
  {
    $match: { by: "John" },
  },
  {
    $group: {
      _id: "$by",
      avgLikes: { $avg: "$likes" },
    },
  },
]);

// ----------------------------------------------------------------------------------------------------------------------------------
